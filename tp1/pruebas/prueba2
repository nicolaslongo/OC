root@:~/tp1# ls
dos2unix.S       getch.S          isCR.S           isLF.S           putch.S          stackframes.txt  unix2dos.S
root@:~/tp1# gcc -Wall -O0 -g putch.S getch.S isLF.S isCR.S unix2dos.S -o unix2dos   
root@:~/tp1# gcc -Wall -O0 -g putch.S getch.S isLF.S isCR.S dos2unix.S -o dos2unix   
root@:~/tp1# n=0; while :; do n="`expr $n + 1`"; head -c 100 </dev/urandom >/tmp/test.$n.u; ./unix2dos </tmp/test.$n.u >/tmp/test.$n.d || break; ./dos2unix </tmp/test.$n.d >/tmp/test.$n.2.u || break; diff -q /tmp/test.$n.u /tmp/test.$n.2.u || break; rm -f /tmp/test.$n.*; echo Ok: $n; done; echo Error: $n
Ok: 1
Ok: 2
Ok: 3
Ok: 4
Ok: 5
Ok: 6
Ok: 7
Ok: 8
Ok: 9
Ok: 10
Ok: 11
Ok: 12
Ok: 13
Ok: 14
Ok: 15
Ok: 16
Ok: 17
Ok: 18
^[[DOk: 19
Ok: 20
Ok: 21
Ok: 22
Ok: 23
Ok: 24
Ok: 25
Ok: 26
Ok: 27
Ok: 28
Ok: 29
Ok: 30
Ok: 31
Ok: 32
Ok: 33
Ok: 34
Ok: 35
Ok: 36
Ok: 37
Ok: 38
Ok: 39
Ok: 40
Ok: 41
Ok: 42
Ok: 43
Ok: 44
Ok: 45
Ok: 46
Ok: 47
Ok: 48
Ok: 49
Ok: 50
Ok: 51
Ok: 52
Ok: 53
Ok: 54
Ok: 55
Ok: 56
Ok: 57
Ok: 58
Ok: 59
Ok: 60
Ok: 61
Ok: 62
Ok: 63
Ok: 64
Ok: 65
Ok: 66
Ok: 67
Ok: 68
Ok: 69
Ok: 70
Ok: 71
Ok: 72
Ok: 73
Ok: 74
Ok: 75
Ok: 76
Ok: 77
Ok: 78
Ok: 79
Ok: 80
Ok: 81
Ok: 82
Ok: 83
Ok: 84
Ok: 85
Ok: 86
Ok: 87
Ok: 88
Ok: 89
Ok: 90
Ok: 91
Ok: 92
Ok: 93
Ok: 94
Ok: 95
Ok: 96
Ok: 97
Ok: 98
Ok: 99
Ok: 100
Ok: 101
Ok: 102
Ok: 103
Ok: 104
Ok: 105
Ok: 106
Ok: 107
Ok: 108
Ok: 109
Ok: 110
Ok: 111
Ok: 112
Ok: 113
Ok: 114
Ok: 115
Ok: 116
Ok: 117
Ok: 118
Ok: 119
Ok: 120
Ok: 121
Ok: 122
Ok: 123
Ok: 124
Ok: 125
Ok: 126
Ok: 127
Ok: 128
Ok: 129
Ok: 130
Ok: 131
Ok: 132
Ok: 133
Ok: 134
Ok: 135
Ok: 136
Ok: 137
Ok: 138
Ok: 139
Ok: 140
Ok: 141
Ok: 142
Ok: 143
Ok: 144
Ok: 145
Ok: 146
Ok: 147
Ok: 148
Ok: 149
Ok: 150
Ok: 151
Ok: 152
Ok: 153
Ok: 154
Ok: 155
Ok: 156
Ok: 157
Ok: 158
Ok: 159
Ok: 160
Ok: 161
Ok: 162
Ok: 163
Ok: 164
Ok: 165
Ok: 166
Ok: 167
Ok: 168
Ok: 169
Ok: 170
Ok: 171
Ok: 172
Ok: 173
Ok: 174
Ok: 175
Ok: 176
Ok: 177
Ok: 178
Ok: 179
Ok: 180
Ok: 181
Ok: 182
Ok: 183
Ok: 184
Ok: 185
Ok: 186
Ok: 187
Ok: 188
Ok: 189
Ok: 190
Ok: 191
Ok: 192
Ok: 193
Ok: 194
Ok: 195
Ok: 196
Ok: 197
Ok: 198
Ok: 199
Ok: 200
Ok: 201
Ok: 202
Ok: 203
Ok: 204
Ok: 205
Ok: 206
Ok: 207
Ok: 208
Ok: 209
Ok: 210
Ok: 211
Ok: 212
Ok: 213
Ok: 214
Ok: 215
Ok: 216
Ok: 217
Ok: 218
Ok: 219
Ok: 220
Ok: 221
Ok: 222
Ok: 223
Ok: 224
Ok: 225
Ok: 226
Ok: 227
Ok: 228
Ok: 229
Ok: 230
Ok: 231
Ok: 232
Ok: 233
Ok: 234
Ok: 235
Ok: 236
Ok: 237
Ok: 238
Ok: 239
Ok: 240
Ok: 241
Ok: 242
Ok: 243
Ok: 244
Ok: 245
Ok: 246
Ok: 247
Ok: 248
Ok: 249
Ok: 250
Ok: 251
Ok: 252
Ok: 253
Ok: 254
Ok: 255
Ok: 256
Ok: 257
Ok: 258
Ok: 259
Ok: 260
Ok: 261
Ok: 262
Ok: 263
Ok: 264
Ok: 265
Ok: 266
Ok: 267
Ok: 268
Ok: 269
Ok: 270
Ok: 271
Ok: 272
Ok: 273
Ok: 274
Ok: 275
Ok: 276
Ok: 277
Ok: 278
Ok: 279
Ok: 280
Ok: 281
Ok: 282
Ok: 283
Ok: 284
Ok: 285
Ok: 286
Ok: 287
Ok: 288
Ok: 289
Ok: 290
Ok: 291
Ok: 292
Ok: 293
Ok: 294
Ok: 295
Ok: 296
Ok: 297
Ok: 298
Ok: 299
Ok: 300
Ok: 301
Ok: 302
Ok: 303
Ok: 304
Ok: 305
Ok: 306
Ok: 307
Ok: 308
Ok: 309
Ok: 310
Ok: 311
Ok: 312
Ok: 313
Ok: 314
Ok: 315
Ok: 316
Ok: 317
Ok: 318
Ok: 319
Ok: 320
Ok: 321
Ok: 322
Ok: 323
Ok: 324
Ok: 325
Ok: 326
Ok: 327
Ok: 328
Ok: 329
Ok: 330
Ok: 331
Ok: 332
Ok: 333
Ok: 334
Ok: 335
Ok: 336
Ok: 337
Ok: 338
Ok: 339
Ok: 340
Ok: 341
Ok: 342
Ok: 343
Ok: 344
Ok: 345
Ok: 346
Ok: 347
Ok: 348
Ok: 349
Ok: 350
Ok: 351
Ok: 352
Ok: 353
Ok: 354
Ok: 355
Ok: 356
Ok: 357
Ok: 358
Ok: 359
Ok: 360
Ok: 361
Ok: 362
Ok: 363
Ok: 364
Ok: 365
Ok: 366
Ok: 367
Ok: 368
Ok: 369
Ok: 370
Ok: 371
Ok: 372
Ok: 373
Ok: 374
Ok: 375
Ok: 376
Ok: 377
Ok: 378
Ok: 379
Ok: 380
Ok: 381
Ok: 382
Ok: 383
Ok: 384
Ok: 385
Ok: 386
Ok: 387
Ok: 388
Ok: 389
Ok: 390
Ok: 391
Ok: 392
Ok: 393
Ok: 394
Ok: 395
Ok: 396
Ok: 397
Ok: 398
Ok: 399
Ok: 400
Ok: 401
Ok: 402
Ok: 403
Ok: 404
Ok: 405
Ok: 406
Ok: 407
Ok: 408
Ok: 409
Ok: 410
Ok: 411
Ok: 412
Ok: 413
Ok: 414
Ok: 415
Ok: 416
Ok: 417
Ok: 418
Ok: 419
Ok: 420
Ok: 421
Ok: 422
Ok: 423
Ok: 424
Ok: 425
Ok: 426
Ok: 427
Ok: 428
Ok: 429
Ok: 430
Ok: 431
Ok: 432
Ok: 433
Ok: 434
Ok: 435
Ok: 436
Ok: 437
Ok: 438
Ok: 439
Ok: 440
Ok: 441
Ok: 442
Ok: 443
Ok: 444
Ok: 445
Ok: 446
Ok: 447
Ok: 448
Ok: 449
Ok: 450
Ok: 451
Ok: 452
Ok: 453
Ok: 454
Ok: 455
Ok: 456
Ok: 457
Ok: 458
Ok: 459
Ok: 460
Ok: 461
Ok: 462
Ok: 463
Ok: 464
Ok: 465
Ok: 466
Ok: 467
Ok: 468
Ok: 469
Ok: 470
Ok: 471
Ok: 472
Ok: 473
Ok: 474
Ok: 475
Ok: 476
Ok: 477
Ok: 478
Ok: 479
Ok: 480
Ok: 481
Ok: 482
Ok: 483
Ok: 484
Ok: 485
Ok: 486
Ok: 487
Ok: 488
Ok: 489
Ok: 490
Ok: 491
Ok: 492
Ok: 493
Ok: 494
Ok: 495
Ok: 496
Ok: 497
Ok: 498
Ok: 499
Ok: 500
Ok: 501
Ok: 502
Ok: 503
Ok: 504
Ok: 505
Ok: 506
Ok: 507
Ok: 508
Ok: 509
Ok: 510
Ok: 511
Ok: 512
Ok: 513
Ok: 514
Ok: 515
Ok: 516
Ok: 517
Ok: 518
Ok: 519
Ok: 520
Ok: 521
Ok: 522
Ok: 523
Ok: 524
Ok: 525
Ok: 526
Ok: 527
Ok: 528
Ok: 529
Ok: 530
Ok: 531
Ok: 532
Ok: 533
Ok: 534
Ok: 535
Ok: 536
Ok: 537
Ok: 538
Ok: 539
Ok: 540
Ok: 541
Ok: 542
Ok: 543
Ok: 544
Ok: 545
Ok: 546
Ok: 547
Ok: 548
Ok: 549
Ok: 550
Ok: 551
Ok: 552
Ok: 553
Ok: 554
Ok: 555
Ok: 556
Ok: 557
Ok: 558
Ok: 559
Ok: 560
Ok: 561
Ok: 562
Ok: 563
Ok: 564
Ok: 565
Ok: 566
Ok: 567
Ok: 568
Ok: 569
Ok: 570
Ok: 571
Ok: 572
Ok: 573
Ok: 574
Ok: 575
Ok: 576
Ok: 577
Ok: 578
Ok: 579
Ok: 580
Ok: 581
Ok: 582
Ok: 583
Ok: 584
Ok: 585
Ok: 586
Ok: 587
Ok: 588
Ok: 589
Ok: 590
Ok: 591
Ok: 592
Ok: 593
Ok: 594
Ok: 595
Ok: 596
Ok: 597
Ok: 598
Ok: 599
Ok: 600
Ok: 601
Ok: 602
Ok: 603
Ok: 604
Ok: 605
Ok: 606
Ok: 607
Ok: 608
Ok: 609
Ok: 610
Ok: 611
Ok: 612
Ok: 613
Ok: 614
Ok: 615
Ok: 616
Ok: 617
Ok: 618
Ok: 619
Ok: 620
Ok: 621
Ok: 622
Ok: 623
Ok: 624
Ok: 625
Ok: 626
Ok: 627
Ok: 628
Ok: 629
Ok: 630
Ok: 631
Ok: 632
Ok: 633
Ok: 634
Ok: 635
Ok: 636
Ok: 637
Ok: 638
Ok: 639
Ok: 640
Ok: 641
Ok: 642
Ok: 643
Ok: 644
Ok: 645
Ok: 646
Ok: 647
Ok: 648
Ok: 649
Ok: 650
Ok: 651
Ok: 652
Ok: 653
Ok: 654
Ok: 655
Ok: 656
Ok: 657
Ok: 658
Ok: 659
Ok: 660
Ok: 661
Ok: 662
Ok: 663
Ok: 664
Ok: 665
Ok: 666
Ok: 667
Ok: 668
Ok: 669
Ok: 670
Ok: 671
Ok: 672
Ok: 673
Ok: 674
Ok: 675
Ok: 676
Ok: 677
Ok: 678
Ok: 679
Ok: 680
Ok: 681
Ok: 682
Ok: 683
Ok: 684
Ok: 685
Ok: 686
Ok: 687
Ok: 688
Ok: 689
Ok: 690
Ok: 691
Ok: 692
Ok: 693
Ok: 694
Ok: 695
Ok: 696
Ok: 697
Ok: 698
Ok: 699
Ok: 700
Ok: 701
Ok: 702
Ok: 703
Ok: 704
Ok: 705
Ok: 706
Ok: 707
Ok: 708
Ok: 709
Ok: 710
Ok: 711
Ok: 712
Ok: 713
Ok: 714
Ok: 715
Ok: 716
Ok: 717
Ok: 718
Ok: 719
Ok: 720
Ok: 721
Ok: 722
Ok: 723
Ok: 724
Ok: 725
Ok: 726
Ok: 727
Ok: 728
Ok: 729
Ok: 730
Ok: 731
Ok: 732
Ok: 733
Ok: 734
Ok: 735
Ok: 736
Ok: 737
Ok: 738
Ok: 739
Ok: 740
Ok: 741
Ok: 742
Ok: 743
Ok: 744
Ok: 745
Ok: 746
Ok: 747
Ok: 748
Ok: 749
Ok: 750
Ok: 751
Ok: 752
Ok: 753
Ok: 754
Ok: 755
Ok: 756
Ok: 757
Ok: 758
Ok: 759
Ok: 760
Ok: 761
Ok: 762
Ok: 763
Ok: 764
Ok: 765
Ok: 766
Ok: 767
Ok: 768
Ok: 769
Ok: 770
Ok: 771
Ok: 772
Ok: 773
Ok: 774
Ok: 775
Ok: 776
Ok: 777
Ok: 778
Ok: 779
Ok: 780
Ok: 781
Ok: 782
Ok: 783
Ok: 784
Ok: 785
Ok: 786
Ok: 787
Ok: 788
Ok: 789
Ok: 790
Ok: 791
Ok: 792
Ok: 793
Ok: 794
Ok: 795
Ok: 796
Ok: 797
Ok: 798
Ok: 799
Ok: 800
Ok: 801
Ok: 802
Ok: 803
Ok: 804
Ok: 805
Ok: 806
Ok: 807
Ok: 808
Ok: 809
Ok: 810
Ok: 811
Ok: 812
Ok: 813
Ok: 814
Ok: 815
Ok: 816
Ok: 817
Ok: 818
Ok: 819
Ok: 820
Ok: 821
Ok: 822
Ok: 823
Ok: 824
Ok: 825
Ok: 826
Ok: 827
Ok: 828
Ok: 829
Ok: 830
Ok: 831
Ok: 832
Ok: 833
Ok: 834
Ok: 835
Ok: 836
Ok: 837
Ok: 838
Ok: 839
Ok: 840
Ok: 841
Ok: 842
Ok: 843
Ok: 844
Ok: 845
Ok: 846
Ok: 847
Ok: 848
Ok: 849
Ok: 850
Ok: 851
Ok: 852
Ok: 853
Ok: 854
Ok: 855
Ok: 856
Ok: 857
Ok: 858
Ok: 859
Ok: 860
Ok: 861
Ok: 862
Ok: 863
Ok: 864
Ok: 865
Ok: 866
Ok: 867
Ok: 868
Ok: 869
Ok: 870
Ok: 871
Ok: 872
Ok: 873
Ok: 874
Ok: 875
Ok: 876
Ok: 877
Ok: 878
Ok: 879
Ok: 880
Ok: 881
Ok: 882
Ok: 883
Ok: 884
Ok: 885
Ok: 886
Ok: 887
Ok: 888
Ok: 889
Ok: 890
Ok: 891
Ok: 892
Ok: 893
Ok: 894
Ok: 895
Ok: 896
Ok: 897
Ok: 898
Ok: 899
Ok: 900
Ok: 901
Ok: 902
Ok: 903
Ok: 904
Ok: 905
Ok: 906
Ok: 907
Ok: 908
Ok: 909
Ok: 910
Ok: 911
Ok: 912
Ok: 913
Ok: 914
Ok: 915
Ok: 916
Ok: 917
Ok: 918
Ok: 919
Ok: 920
Ok: 921
Ok: 922
Ok: 923
Ok: 924
Ok: 925
Ok: 926
Ok: 927
Ok: 928
Ok: 929
Ok: 930
Ok: 931
Ok: 932
Ok: 933
Ok: 934
Ok: 935
Ok: 936
Ok: 937
Ok: 938
Ok: 939
Ok: 940
Ok: 941
Ok: 942
Ok: 943
Ok: 944
Ok: 945
Ok: 946
Ok: 947
Ok: 948
Ok: 949
Ok: 950
Ok: 951
Ok: 952
Ok: 953
Ok: 954
Ok: 955
Ok: 956
Ok: 957
Ok: 958
Ok: 959
Ok: 960
Ok: 961
Ok: 962
Ok: 963
Ok: 964
Ok: 965
Ok: 966
Ok: 967
Ok: 968
Ok: 969
Ok: 970
Ok: 971
Ok: 972
Ok: 973
Ok: 974
Ok: 975
Ok: 976
Ok: 977
Ok: 978
Ok: 979
Ok: 980
Ok: 981
Ok: 982
Ok: 983
Ok: 984
Ok: 985
Ok: 986

